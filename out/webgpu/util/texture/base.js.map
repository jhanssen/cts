{"version":3,"sources":["../../../../src/webgpu/util/texture/base.ts"],"names":["standardizeExtent3D","maxMipLevelCount","size","dimension","sizeDict","maxMippedDimension","width","Math","max","height","depthOrArrayLayers","floor","log2"],"mappings":";AAAA;AACA,GADA,SAASA,mBAAT,QAAoC,sBAApC,CAEA,OAAO,SAASC,gBAAT,CAA0B;AAC/BC,EAAAA,IAD+B;AAE/BC,EAAAA,SAAS,GAAG,IAFmB,EAA1B;;;;AAMI;AACT,QAAMC,QAAQ,GAAGJ,mBAAmB,CAACE,IAAD,CAApC;;AAEA,MAAIG,kBAAkB,GAAGD,QAAQ,CAACE,KAAlC;AACA,MAAIH,SAAS,KAAK,IAAlB,EAAwBE,kBAAkB,GAAGE,IAAI,CAACC,GAAL,CAASH,kBAAT,EAA6BD,QAAQ,CAACK,MAAtC,CAArB;AACxB,MAAIN,SAAS,KAAK,IAAlB;AACEE,EAAAA,kBAAkB,GAAGE,IAAI,CAACC,GAAL,CAASH,kBAAT,EAA6BD,QAAQ,CAACM,kBAAtC,CAArB;AACF,SAAOH,IAAI,CAACI,KAAL,CAAWJ,IAAI,CAACK,IAAL,CAAUP,kBAAV,CAAX,IAA4C,CAAnD;AACD","sourcesContent":["import { standardizeExtent3D } from '../../util/unions.js';\n\nexport function maxMipLevelCount({\n  size,\n  dimension = '2d',\n}: {\n  readonly size: GPUExtent3D;\n  readonly dimension?: GPUTextureDimension;\n}): number {\n  const sizeDict = standardizeExtent3D(size);\n\n  let maxMippedDimension = sizeDict.width;\n  if (dimension !== '1d') maxMippedDimension = Math.max(maxMippedDimension, sizeDict.height);\n  if (dimension === '3d')\n    maxMippedDimension = Math.max(maxMippedDimension, sizeDict.depthOrArrayLayers);\n  return Math.floor(Math.log2(maxMippedDimension)) + 1;\n}\n"],"file":"base.js"}